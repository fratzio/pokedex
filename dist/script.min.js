var pokemonRepository=function(){var e=[],n="https://pokeapi.co/api/v2/pokemon/?limit=150";function t(e){pokemonRepository.loadDetails(e).then(function(){var n="Height: \n"+e.height+"\nTypes: "+e.types+"\n";!function(e,n,t){s.innerHTML="";var o=document.createElement("div");o.classList.add("modal");var i=document.createElement("button");i.classList.add("modal-close"),i.innerText="Close",i.addEventListener("click",c);var a=document.createElement("h1");a.innerText=e;var r=document.createElement("div");r.classList.add("body-element");var d=document.createElement("p");d.innerText=n;var l=document.createElement("div"),u=document.createElement("img");u.src=t,r.appendChild(i),r.appendChild(a),r.appendChild(d),l.appendChild(u),o.appendChild(r),o.appendChild(l),s.appendChild(o),s.classList.add("is-visible")}(e.name,n,e.imageUrl),i()})}function o(){document.querySelector(".loading-message-class").classList.add("shown")}function i(){var e=document.querySelector(".loading-message-class");setTimeout(function(){e.classList.remove("shown")},500)}function a(n){e.push(n)}var s=document.querySelector("#modal-container");function c(){s.classList.remove("is-visible")}return window.addEventListener("keydown",e=>{"Escape"===e.key&&s.classList.contains("is-visible")&&c()}),s.addEventListener("click",e=>{e.target===s&&c()}),{add:a,getAll:function(){return e},search:function(n){var t=e.filter(e=>e.name===n);return t.length>0?(console.log("Here is your Pokemon:<br>"),Object.keys(t[0]).forEach(function(e){console.log("<br>"+e+": "+t[0][e])}),'There"s a match!'):"There is no Pokemon with that name in the Pokedex"},loadList:function(){return fetch(n).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){a({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},addListItem:function(e){var n=document.createElement("li"),i=document.createElement("button");i.innerText=e.name,i.classList.add("customButton"),n.appendChild(i),$newList.appendChild(n),i.addEventListener("click",()=>{o(),t(e)})},showDetails:t,loadDetails:function(e){var n=e.detailsUrl;return fetch(n).then(function(e){return e.json()}).then(function(n){e.imageUrl=n.sprites.front_default,e.height=n.height,e.types="",n.types.forEach(function(n){e.types=n.type.name+="\n"})}).catch(function(e){console.error(e)})},showLoadingMessage:o,hideLoadingMessage:i}}(),$newList=document.querySelector("ul");pokemonRepository.showLoadingMessage(),pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)}),pokemonRepository.hideLoadingMessage()});